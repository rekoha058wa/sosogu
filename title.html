<!DOCTYPE html>
<html>
<head>
	<meta charset="utf8">
	<title>Title</title>
	<style type="text/css">
		#titleCanvas{
			border: 1px solid gray;
			position: relative;
			top: 20px;
			left: 20px;
			width: 500px;
			height: 100px;
		}
		#start{
			border: 1px solid gray;
			position: relative;
			top: 50px;
			left: 200px;
			width: 100px;
			height: 50px;
		}
	</style>
</head>
<body>

<div id="titleCanvas">思考でSOSOGU!チョコレート</div>

<form>
	<button type="button" id="start">Start</button>
</form>

<button onclick="clearInterval(timer)">Stop</button>

<script>

var timeOut;
var timer;
var startBtn = document.querySelector("#start");
startBtn.addEventListener("click",function(){
	var url = "http://localhost/title.php";
	var request = new XLHttpRequest();
	request.open('GET',url,false);
	request.onload = function(){
		if(request.status === 200){
			var response = request.responseText;
			var json = JSON.parse(response);
		}
	};
	request.onerror = function(){
		
	}
	request.send();
	setTimeout(TimeOutFunction,3000);
	timer = setInterval(IntervalFunction,1000);
});

function TimeOutFunction(){
	clearInterval(timer);
	alert('マッチング相手がみつかりませんでした');
}

function IntervalFunction(){
	var d = new Date();
	document.querySelector("#titleCanvas").innerHTML = d.toLocaleTimeString();
}
</script>

</body>
</html>
